{"version":3,"sources":["../../../../src/gatsby-node/create-pages/create-search-page.js"],"names":["require","log","COLOR","PAGE_TEMPLATES","module","exports","createSearchPage","ocularOptions","graphql","actions","createPage","then","results","componentUrl","color","CYAN","priority","path","component","context","data","allMdx","edges","map","e","excerpt","node","headings","slug","fields","title","frontmatter"],"mappings":";;AAAA,eAAqBA,OAAO,CAAC,iBAAD,CAA5B;AAAA,IAAOC,GAAP,YAAOA,GAAP;AAAA,IAAYC,KAAZ,YAAYA,KAAZ;;AACA,IAAMC,cAAc,GAAGH,OAAO,CAAC,kBAAD,CAA9B;;AAEAI,MAAM,CAACC,OAAP,GAAiB,SAASC,gBAAT,OAA8CC,aAA9C,EAA6D;AAAA,MAAlCC,OAAkC,QAAlCA,OAAkC;AAAA,MAAzBC,OAAyB,QAAzBA,OAAyB;AAC5E,MAAOC,UAAP,GAAqBD,OAArB,CAAOC,UAAP;AAEA,SAAOF,OAAO,6VAAP,CAoBJG,IApBI,CAoBC,UAACC,OAAD,EAAa;AACnB,QAAMC,YAAY,GAAGV,cAAc,CAAC,iBAAD,CAAnC;AAEAF,IAAAA,GAAG,CAACA,GAAJ,CAAQ;AAACa,MAAAA,KAAK,EAAEZ,KAAK,CAACa,IAAd;AAAoBC,MAAAA,QAAQ,EAAE;AAA9B,KAAR,0CAA2EH,YAA3E;AAEAH,IAAAA,UAAU,CAAC;AACTO,MAAAA,IAAI,EAAE,SADG;AAETC,MAAAA,SAAS,EAAEL,YAFF;AAGTM,MAAAA,OAAO,EAAE;AACPC,QAAAA,IAAI,EAAER,OAAO,CAACQ,IAAR,CAAaC,MAAb,CAAoBC,KAApB,CAA0BC,GAA1B,CAA8B,UAACC,CAAD;AAAA,iBAAQ;AAC1CC,YAAAA,OAAO,EAAED,CAAC,CAACE,IAAF,CAAOD,OAD0B;AAE1CE,YAAAA,QAAQ,EAAEH,CAAC,CAACE,IAAF,CAAOC,QAFyB;AAG1CC,YAAAA,IAAI,EAAEJ,CAAC,CAACE,IAAF,CAAOG,MAAP,CAAcD,IAHsB;AAI1CE,YAAAA,KAAK,EAAEN,CAAC,CAACE,IAAF,CAAOK,WAAP,CAAmBD;AAJgB,WAAR;AAAA,SAA9B;AADC;AAHA,KAAD,CAAV;AAYD,GArCM,CAAP;AAsCD,CAzCD","sourcesContent":["const {log, COLOR} = require('../../utils/log');\nconst PAGE_TEMPLATES = require('./page-templates');\n\nmodule.exports = function createSearchPage({graphql, actions}, ocularOptions) {\n  const {createPage} = actions;\n\n  return graphql(`\n    {\n      allMdx {\n        edges {\n          node {\n            excerpt(pruneLength: 100000)\n            frontmatter {\n              title\n            }\n            headings {\n              value\n              depth\n            }\n            fields {\n              slug\n            }\n          }\n        }\n      }\n    }\n  `).then((results) => {\n    const componentUrl = PAGE_TEMPLATES['SEARCH_PAGE_URL'];\n\n    log.log({color: COLOR.CYAN, priority: 1}, `Creating search page from url ${componentUrl}}`)();\n\n    createPage({\n      path: '/search',\n      component: componentUrl,\n      context: {\n        data: results.data.allMdx.edges.map((e) => ({\n          excerpt: e.node.excerpt,\n          headings: e.node.headings,\n          slug: e.node.fields.slug,\n          title: e.node.frontmatter.title\n        }))\n      }\n    });\n  });\n};\n"],"file":"create-search-page.js"}