{"version":3,"sources":["../../../../src/react/components/github-contributors.jsx"],"names":["cachedResponse","ContribContainer","styled","div","ContribLink","a","props","theme","colors","mono900","ContribImage","img","GithubContributors","state","response","project","fetch","then","json","setState","contributors","Array","isArray","textAlign","map","contributor","html_url","id","avatar_url","login","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;;AAIA,IAAIA,cAAc,GAAG,IAArB;;AAkBA,IAAMC,gBAAgB,GAAGC,0BAAOC,GAAV,uJAAtB;;AAMA,IAAMC,WAAW,GAAGF,0BAAOG,CAAV,2VAON,UAACC,KAAD;AAAA,SAAWA,KAAK,CAACC,KAAN,CAAYC,MAAZ,CAAmBC,OAA9B;AAAA,CAPM,CAAjB;;AAgBA,IAAMC,YAAY,GAAGR,0BAAOS,GAAV,yPAAlB;;IAQqBC,kB;;;;;AACnB,8BAAYN,KAAZ,EAAmB;AAAA;;AAAA;AACjB,8BAAMA,KAAN;AACA,UAAKO,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAEd;AADC,KAAb;AAFiB;AAKlB;;;;WAED,6BAAoB;AAAA;;AAClB,UAAIA,cAAJ,EAAoB;AAClB;AACD;;AAED,UAAOe,OAAP,GAAkB,KAAKT,KAAvB,CAAOS,OAAP;AACAC,MAAAA,KAAK,wCAAiCD,OAAjC,mBAAL,CACGE,IADH,CACQ,UAACH,QAAD;AAAA,eAAcA,QAAQ,CAACI,IAAT,EAAd;AAAA,OADR,EAEGD,IAFH,CAEQ,UAACH,QAAD,EAAc;AAClBd,QAAAA,cAAc,GAAGc,QAAjB;;AACA,QAAA,MAAI,CAACK,QAAL,CAAc;AAACL,UAAAA,QAAQ,EAARA;AAAD,SAAd;AACD,OALH;AAMD;;;WAED,kBAAS;AACP,UAAOA,QAAP,GAAmB,KAAKD,KAAxB,CAAOC,QAAP;AACA,UAAMM,YAAY,GAAGC,KAAK,CAACC,OAAN,CAAcR,QAAd,IAA0BA,QAA1B,GAAqC,EAA1D;AACA,aACE,0CACE;AAAI,QAAA,KAAK,EAAE;AAACS,UAAAA,SAAS,EAAE;AAAZ;AAAX,wBADF,EAEE,6BAAC,gBAAD,QACGH,YAAY,CAACI,GAAb,CACC,UAACC,WAAD;AAAA,eACEA,WAAW,IACT,6BAAC,WAAD;AACE,UAAA,MAAM,EAAC,QADT;AAEE,UAAA,GAAG,EAAC,qBAFN;AAGE,UAAA,IAAI,EAAEA,WAAW,CAACC,QAHpB;AAIE,UAAA,GAAG,EAAED,WAAW,CAACE;AAJnB,WAME,6BAAC,YAAD;AAAc,UAAA,GAAG,EAAEF,WAAW,CAACG,UAA/B;AAA2C,UAAA,KAAK,EAAC,MAAjD;AAAwD,UAAA,GAAG,EAAEH,WAAW,CAACI;AAAzE,UANF,EAOE,0CAAMJ,WAAW,CAACI,KAAlB,CAPF,CAFJ;AAAA,OADD,CADH,CAFF,CADF;AAqBD;;;EA9C6CC,gB","sourcesContent":["import React, {Component} from 'react';\nimport styled from 'styled-components';\n\n// GitHub api has rate-limits. We want to cache the response\n// as much as we can. This component gets re-mounted multiple times.\nlet cachedResponse = null;\n\n/* for debug */\n// cachedResponse = [\n//   {\n//     id: 'Pessimistress',\n//     avatar_url: 'https://avatars3.githubusercontent.com/u/2059298',\n//     login: 'Pessimistress',\n//     html_url: 'https://github.com/Pessimistress'\n//   },\n//   {\n//     id: 'ibgreen',\n//     avatar_url: 'https://avatars1.githubusercontent.com/u/7025232',\n//     login: 'ibgreen',\n//     html_url: 'https://github.com/ibgreen'\n//   }\n// ];\n\nconst ContribContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nconst ContribLink = styled.a`\n  margin: 10px;\n  display: inline-block;\n  width: 6rem;\n  height: 8rem;\n  text-decoration: none;\n  text-align: center;\n  color: ${(props) => props.theme.colors.mono900};\n\n  &:hover img {\n    border: 4px solid #fff;\n    box-shadow: 0 0 20px hsla(0, 0%, 0%, 0.3);\n    opacity: 1;\n  }\n`;\n\nconst ContribImage = styled.img`\n  border-radius: 50%;\n  border: 4px solid transparent;\n  box-shadow: 0 0 0 hsla(0, 0%, 0%, 0.3);\n  transition: border 0.5s, box-shadow 0.5s;\n  opacity: 0.9;\n`;\n\nexport default class GithubContributors extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      response: cachedResponse\n    };\n  }\n\n  componentDidMount() {\n    if (cachedResponse) {\n      return;\n    }\n\n    const {project} = this.props;\n    fetch(`https://api.github.com/repos/${project}/contributors`)\n      .then((response) => response.json())\n      .then((response) => {\n        cachedResponse = response;\n        this.setState({response});\n      });\n  }\n\n  render() {\n    const {response} = this.state;\n    const contributors = Array.isArray(response) ? response : [];\n    return (\n      <div>\n        <h2 style={{textAlign: 'center'}}>Contributors</h2>\n        <ContribContainer>\n          {contributors.map(\n            (contributor) =>\n              contributor && (\n                <ContribLink\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  href={contributor.html_url}\n                  key={contributor.id}\n                >\n                  <ContribImage src={contributor.avatar_url} width=\"100%\" alt={contributor.login} />\n                  <div>{contributor.login}</div>\n                </ContribLink>\n              )\n          )}\n        </ContribContainer>\n      </div>\n    );\n  }\n}\n"],"file":"github-contributors.js"}