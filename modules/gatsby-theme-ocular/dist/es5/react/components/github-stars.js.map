{"version":3,"sources":["../../../../src/react/components/github-stars.jsx"],"names":["cachedResponse","GithubStars","props","state","response","project","fetch","then","json","setState","count","stargazers_count","marginLeft","position","top","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;AAIA,IAAIA,cAAc,GAAG,IAArB;;IAEqBC,W;;;;;AACnB,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;AACjB,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAEJ;AADC,KAAb;AAFiB;AAKlB;;;;WAED,6BAAoB;AAAA;;AAClB,UAAIA,cAAJ,EAAoB;AAClB;AACD;;AAED,UAAOK,OAAP,GAAkB,KAAKH,KAAvB,CAAOG,OAAP;AACAC,MAAAA,KAAK,wCAAiCD,OAAjC,EAAL,CACGE,IADH,CACQ,UAACH,QAAD;AAAA,eAAcA,QAAQ,CAACI,IAAT,EAAd;AAAA,OADR,EAEGD,IAFH,CAEQ,UAACH,QAAD,EAAc;AAClBJ,QAAAA,cAAc,GAAGI,QAAjB;;AACA,QAAA,MAAI,CAACK,QAAL,CAAc;AAACL,UAAAA,QAAQ,EAARA;AAAD,SAAd;AACD,OALH;AAMD;;;WAED,kBAAS;AACP,UAAOA,QAAP,GAAmB,KAAKD,KAAxB,CAAOC,QAAP;AACA,UAAMM,KAAK,GAAIN,QAAQ,IAAIA,QAAQ,CAACO,gBAAtB,IAA2C,KAAzD;AACA,aACE,6BAAC,eAAD,QACGD,KADH,EAEE,6BAAC,aAAD;AAAU,QAAA,KAAK,EAAE;AAACE,UAAAA,UAAU,EAAE,QAAb;AAAuBC,UAAAA,QAAQ,EAAE,UAAjC;AAA6CC,UAAAA,GAAG,EAAE,CAAC;AAAnD;AAAjB,QAFF,CADF;AAMD;;;EA/BsCC,gB","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport StarIcon from 'react-icons/lib/go/star';\n\n// GitHub api has rate-limits. We want to cache the response\n// as much as we can. This component gets re-mounted multiple times.\nlet cachedResponse = null;\n\nexport default class GithubStars extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      response: cachedResponse\n    };\n  }\n\n  componentDidMount() {\n    if (cachedResponse) {\n      return;\n    }\n\n    const {project} = this.props;\n    fetch(`https://api.github.com/repos/${project}`)\n      .then((response) => response.json())\n      .then((response) => {\n        cachedResponse = response;\n        this.setState({response});\n      });\n  }\n\n  render() {\n    const {response} = this.state;\n    const count = (response && response.stargazers_count) || '...';\n    return (\n      <Fragment>\n        {count}\n        <StarIcon style={{marginLeft: '0.2rem', position: 'relative', top: -1}} />\n      </Fragment>\n    );\n  }\n}\n"],"file":"github-stars.js"}