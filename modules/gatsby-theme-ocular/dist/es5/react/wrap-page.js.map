{"version":3,"sources":["../../../src/react/wrap-page.jsx"],"names":["wrapPage","element","props","onQueryComplete","data","config","site","siteMetadata","tableOfContents"],"mappings":";;;;;;;;;;;AAMA;;AACA;;AACA;;AAQe,SAASA,QAAT,OAAoC;AAAA,MAAjBC,OAAiB,QAAjBA,OAAiB;AAAA,MAARC,KAAQ,QAARA,KAAQ;;AACjD,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,IAAD,EAAU;AAChC,QAEmBC,MAFnB,GAKID,IALJ,CACEE,IADF,CAEIC,YAFJ,CAEmBF,MAFnB;AAAA,QAIEG,eAJF,GAKIJ,IALJ,CAIEI,eAJF;AASA,WACE,6BAAC,uBAAD,6BAAoBN,KAApB;AAA2B,MAAA,MAAM,EAAEG,MAAnC;AAA2C,MAAA,eAAe,EAAEG;AAA5D,QACGP,OADH,CADF;AAKD,GAfD;;AAiBA,SAAO,6BAAC,kBAAD,QAAYE,eAAZ,CAAP;AACD","sourcesContent":["// Effectively does the same job as `gatsby-layout-plugin`\n// See https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-plugin-layout\n//\n// By wrapping pages this way the top-level layout component does not get unmounted\n// between page changes\n\nimport React from 'react';\nimport SiteQuery from './site-query';\nimport TopLevelLayout from './templates/top-level-layout';\n\n// This is the top-level \"Layout\" component that doesn't get unmounted between\n// page loads. This component is wrapped around the react component returned by\n// each page using the gatsby browser/SSR `wrapPage` callback.\n\n// The Layout instance is shared between pages. It queries common, static data\n// and makes it available on React context\nexport default function wrapPage({element, props}) {\n  const onQueryComplete = (data) => {\n    const {\n      site: {\n        siteMetadata: {config}\n      },\n      tableOfContents\n    } = data;\n\n    // console.log('StaticQuery result', config, tableOfContents);\n\n    return (\n      <TopLevelLayout {...props} config={config} tableOfContents={tableOfContents}>\n        {element}\n      </TopLevelLayout>\n    );\n  };\n\n  return <SiteQuery>{onQueryComplete}</SiteQuery>;\n}\n"],"file":"wrap-page.js"}