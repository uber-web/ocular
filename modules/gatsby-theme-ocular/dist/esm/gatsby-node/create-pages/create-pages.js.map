{"version":3,"sources":["../../../../src/gatsby-node/create-pages/create-pages.js"],"names":["require","log","COLOR","createIndexPage","createDocPages","createExamplePages","createSearchPage","module","exports","createPages","ocularOptions","graphql","actions","color","CYAN","docPages","examplePages","searchPage","HOME_PATH","docPromise","examplesPromise","searchPromise","Promise","all"],"mappings":"AAAA,eAAqBA,OAAO,CAAC,iBAAD,CAA5B;AAAA,IAAOC,GAAP,YAAOA,GAAP;AAAA,IAAYC,KAAZ,YAAYA,KAAZ;;AAEA,IAAMC,eAAe,GAAGH,OAAO,CAAC,qBAAD,CAA/B;;AACA,IAAMI,cAAc,GAAGJ,OAAO,CAAC,oBAAD,CAA9B;;AACA,IAAMK,kBAAkB,GAAGL,OAAO,CAAC,wBAAD,CAAlC;;AACA,IAAMM,gBAAgB,GAAGN,OAAO,CAAC,sBAAD,CAAhC;;AAMAO,MAAM,CAACC,OAAP,GAAiB,SAASC,WAAT,OAAyCC,aAAzC,EAAwD;AAAA,MAAlCC,OAAkC,QAAlCA,OAAkC;AAAA,MAAzBC,OAAyB,QAAzBA,OAAyB;AACvEX,EAAAA,GAAG,CAACA,GAAJ,CAAQ;AAACY,IAAAA,KAAK,EAAEX,KAAK,CAACY;AAAd,GAAR,EAA6B,kBAA7B;AAGA,8BAIIJ,aAJJ,CACEK,QADF;AAAA,MACEA,QADF,sCACa,IADb;AAAA,8BAIIL,aAJJ,CAEEM,YAFF;AAAA,MAEEA,YAFF,sCAEiB,IAFjB;AAAA,8BAIIN,aAJJ,CAGEO,UAHF;AAAA,MAGEA,UAHF,sCAGe,IAHf;;AAOA,MAAI,CAACP,aAAa,CAACQ,SAAnB,EAA8B;AAC5Bf,IAAAA,eAAe,CAAC;AAACQ,MAAAA,OAAO,EAAPA,OAAD;AAAUC,MAAAA,OAAO,EAAPA;AAAV,KAAD,EAAqBF,aAArB,CAAf;AACD;;AAED,MAAIS,UAAJ;;AACA,MAAIJ,QAAJ,EAAc;AACZI,IAAAA,UAAU,GAAGf,cAAc,CAAC;AAACO,MAAAA,OAAO,EAAPA,OAAD;AAAUC,MAAAA,OAAO,EAAPA;AAAV,KAAD,EAAqBF,aAArB,CAA3B;AACD;;AAED,MAAIU,eAAJ;;AACA,MAAIJ,YAAJ,EAAkB;AAChBI,IAAAA,eAAe,GAAGf,kBAAkB,CAAC;AAACM,MAAAA,OAAO,EAAPA,OAAD;AAAUC,MAAAA,OAAO,EAAPA;AAAV,KAAD,EAAqBF,aAArB,CAApC;AACD;;AAED,MAAIW,aAAJ;;AACA,MAAIJ,UAAJ,EAAgB;AACdI,IAAAA,aAAa,GAAGf,gBAAgB,CAAC;AAACK,MAAAA,OAAO,EAAPA,OAAD;AAAUC,MAAAA,OAAO,EAAPA;AAAV,KAAD,EAAqBF,aAArB,CAAhC;AACD;;AAED,SAAOY,OAAO,CAACC,GAAR,CAAY,CAACJ,UAAD,EAAaC,eAAb,EAA8BC,aAA9B,CAAZ,CAAP;AACD,CA/BD","sourcesContent":["const {log, COLOR} = require('../../utils/log');\n\nconst createIndexPage = require('./create-index-page');\nconst createDocPages = require('./create-doc-pages');\nconst createExamplePages = require('./create-example-pages');\nconst createSearchPage = require('./create-search-page');\n\n// This is a main gatsby entry point\n// Here we get to programmatically create pages after all nodes are created\n// by gatsby.\n// We use graphgl to query for nodes and iterate\nmodule.exports = function createPages({graphql, actions}, ocularOptions) {\n  log.log({color: COLOR.CYAN}, 'generating pages')();\n  // TODO/ib - plugin options no longer provided when we are not a plugin\n  // We seem to be getting site metadata instead?\n  const {\n    docPages = true,\n    examplePages = true,\n    searchPage = true // TODO - autodetect based on DEMOS config\n  } = ocularOptions;\n\n  // don't create the index page if HOME_PATH value is defined\n  if (!ocularOptions.HOME_PATH) {\n    createIndexPage({graphql, actions}, ocularOptions);\n  }\n\n  let docPromise;\n  if (docPages) {\n    docPromise = createDocPages({graphql, actions}, ocularOptions);\n  }\n\n  let examplesPromise;\n  if (examplePages) {\n    examplesPromise = createExamplePages({graphql, actions}, ocularOptions);\n  }\n\n  let searchPromise;\n  if (searchPage) {\n    searchPromise = createSearchPage({graphql, actions}, ocularOptions);\n  }\n\n  return Promise.all([docPromise, examplesPromise, searchPromise]);\n};\n"],"file":"create-pages.js"}