{"version":3,"sources":["../../../src/utils/get-ocular-options.js"],"names":["require","log","OCULAR_MODULE_NAME","getOcularOptions","config","plugins","plugin","Error","resolve","options","error","JSON","stringify","module","exports"],"mappings":";;;;;;;;AACA,eAAcA,OAAO,CAAC,OAAD,CAArB;AAAA,IAAOC,GAAP,YAAOA,GAAP;;AAEA,IAAMC,kBAAkB,GAAG,qBAA3B;;AAGA,SAASC,gBAAT,CAA0BC,MAA1B,EAAkC;AAAA,6CACXA,MAAM,CAACC,OADI;AAAA;;AAAA;AAChC,wDAAqC;AAAA,UAA1BC,MAA0B;;AACnC,UAAIA,MAAM,KAAKJ,kBAAf,EAAmC;AACjC,cAAM,IAAIK,KAAJ,WAAaL,kBAAb,4CAAN;AACD;;AACD,UAAII,MAAM,IAAI,QAAOA,MAAP,MAAkB,QAA5B,IAAwCA,MAAM,CAACE,OAAP,KAAmBN,kBAA/D,EAAmF;AACjF,YAAOO,OAAP,GAAkBH,MAAlB,CAAOG,OAAP;;AACA,YAAI,CAACA,OAAL,EAAc;AACZ,gBAAM,IAAIF,KAAJ,WAAaL,kBAAb,4CAAN;AACD;;AACD,eAAOO,OAAP;AACD;AACF;AAZ+B;AAAA;AAAA;AAAA;AAAA;;AAahCR,EAAAA,GAAG,CAACS,KAAJ,CAAUC,IAAI,CAACC,SAAL,CAAeR,MAAM,IAAIA,MAAM,CAACC,OAAhC,EAAyC,IAAzC,EAA+C,CAA/C,CAAV;AACA,QAAM,IAAIE,KAAJ,WAAaL,kBAAb,iCAAN;AACD;;AAEDW,MAAM,CAACC,OAAP,CAAeZ,kBAAf,GAAoCA,kBAApC;AACAW,MAAM,CAACC,OAAP,CAAeX,gBAAf,GAAkCA,gBAAlC","sourcesContent":["/* eslint-disable no-restricted-syntax */\nconst {log} = require('./log');\n\nconst OCULAR_MODULE_NAME = 'gatsby-theme-ocular';\n\n// Finds our theme in the gatsby config and returns the user specified options object\nfunction getOcularOptions(config) {\n  for (const plugin of config.plugins) {\n    if (plugin === OCULAR_MODULE_NAME) {\n      throw new Error(`${OCULAR_MODULE_NAME} used without options in gatsby config`);\n    }\n    if (plugin && typeof plugin === 'object' && plugin.resolve === OCULAR_MODULE_NAME) {\n      const {options} = plugin;\n      if (!options) {\n        throw new Error(`${OCULAR_MODULE_NAME} used without options in gatsby config`);\n      }\n      return options;\n    }\n  }\n  log.error(JSON.stringify(config && config.plugins, null, 2))();\n  throw new Error(`${OCULAR_MODULE_NAME} not found in gatsby config`);\n}\n\nmodule.exports.OCULAR_MODULE_NAME = OCULAR_MODULE_NAME;\nmodule.exports.getOcularOptions = getOcularOptions;\n"],"file":"get-ocular-options.js"}