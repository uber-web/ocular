{"version":3,"sources":["../../../../src/react/components/header.component.jsx"],"names":["React","PropTypes","GithubIcon","isInternalURL","HamburgerMenu","Header","StyledHeader","HeaderLink","HeaderLinkExternal","HeaderLogo","HeaderLogoExternal","HeaderLinksBlock","HeaderLinkContainer","HeaderMenuBlock","HeaderMenu","HeaderMenuLink","HeaderMenuBackground","TocToggle","propTypes","config","object","isRequired","GithubLink","marginLeft","display","UniversalHeaderLink","to","href","label","isInternal","UniversalLogoLink","generateHeaderLinks","props","exampleLink","EXAMPLES","length","githubLink","PROJECT_TYPE","PROJECT_ORG","PROJECT_NAME","links","HOME_PATH","ADDITIONAL_LINKS","map","link","name","forEach","Number","isFinite","index","splice","push","filter","Boolean","HeaderLinks","ControlledHeader","toggleMenu","toggleToc","isTocOpen","isMenuOpen","isSmallScreen","PROJECTS","HEADER_LINK_URL","externalLinks","url","onClickHamburger","event","stopPropagation"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-array-index-key */\n// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport GithubIcon from 'react-icons/lib/go/mark-github';\n\nimport {isInternalURL} from '../../utils/links-utils.js';\nimport {\n  HamburgerMenu,\n  Header as StyledHeader,\n  HeaderLink,\n  HeaderLinkExternal,\n  HeaderLogo,\n  HeaderLogoExternal,\n  HeaderLinksBlock,\n  HeaderLinkContainer,\n  HeaderMenuBlock,\n  HeaderMenu,\n  HeaderMenuLink,\n  HeaderMenuBackground,\n  TocToggle\n} from '../styled/header';\n\n// import GithubStars from './github-stars.jsx';\n\nexport const propTypes = {\n  config: PropTypes.object.isRequired\n};\n\nfunction GithubLink() {\n  return (\n    <>\n      GitHub\n      <GithubIcon style={{marginLeft: '0.5rem', display: 'inline'}} />\n    </>\n  );\n}\n\nfunction UniversalHeaderLink({to, href, label}) {\n  const isInternal = href ? isInternalURL(href) : isInternalURL(to);\n\n  if (isInternal) {\n    return <HeaderLink to={to || href}>{label}</HeaderLink>;\n  } else {\n    return (\n      <HeaderLinkExternal href={to || href} target=\"_blank\">\n        {label}\n      </HeaderLinkExternal>\n    );\n  }\n}\n\nfunction UniversalLogoLink({to, label}) {\n  const isInternal = isInternalURL(to);\n\n  if (isInternal) {\n    return <HeaderLogo to={to}>{label}</HeaderLogo>;\n  } else {\n    return (\n      <HeaderLogoExternal href={to} target=\"_blank\">\n        {label}\n      </HeaderLogoExternal>\n    );\n  }\n}\n\n/**\n * Generate all the links in the header.\n * @param  {Object} props Input props which includes site config.\n * @return {Array}  Array of link object ({label, to, href, classnames})\n */\nexport function generateHeaderLinks(props) {\n  const {config = {}} = props;\n\n  const exampleLink = config.EXAMPLES &&\n    config.EXAMPLES.length > 0 && {label: 'Examples', to: '/examples'};\n\n  const githubLink = config.PROJECT_TYPE === 'github' && {\n    href: `https://github.com/${config.PROJECT_ORG}/${config.PROJECT_NAME}`,\n    label: <GithubLink />\n  };\n\n  const links = [\n    exampleLink,\n    {label: 'Documentation', to: config.HOME_PATH ? '/' : '/docs'},\n    {label: 'Search', to: '/search'}\n  ];\n\n  if (config.ADDITIONAL_LINKS && config.ADDITIONAL_LINKS.length > 0) {\n    config.ADDITIONAL_LINKS.map((link) => ({\n      ...link,\n      label: link.name\n    })).forEach((link) => {\n      if (Number.isFinite(link.index)) {\n        links.splice(link.index, 0, link);\n      } else {\n        links.push(link);\n      }\n    });\n  }\n\n  links.push(githubLink);\n\n  return links.filter(Boolean);\n}\n\nconst HeaderLinks = ({links}) => {\n  return (\n    <HeaderLinksBlock>\n      {/* If the no examples marker, return without creating pages */}\n      {links.map((link, index) => (\n        <HeaderLinkContainer key={`link-${index}`}>\n          <UniversalHeaderLink {...link} />\n        </HeaderLinkContainer>\n      ))}\n      {/* this.renderStars() */}\n    </HeaderLinksBlock>\n  );\n};\n\nconst ControlledHeader = ({\n  links,\n  config = {},\n  toggleMenu,\n  toggleToc,\n  isTocOpen,\n  isMenuOpen,\n  isSmallScreen\n}) => {\n  const {PROJECT_NAME, PROJECTS = [], HEADER_LINK_URL = '/'} = config;\n\n  const externalLinks = PROJECTS.map(({name, url}) => (\n    <HeaderMenuLink key={`menulink-${name}`} href={url}>\n      {name}\n    </HeaderMenuLink>\n  ));\n\n  const onClickHamburger = (event) => {\n    toggleMenu(!isMenuOpen);\n    event.stopPropagation();\n  };\n\n  return isSmallScreen ? (\n    <StyledHeader onClick={() => toggleMenu(false)}>\n      <HeaderMenuBlock>\n        <UniversalLogoLink to={HEADER_LINK_URL} label={PROJECT_NAME} />\n        <HeaderMenu $collapsed={!isMenuOpen} $nbItems={links.length + 1}>\n          <HeaderLinks links={links} />\n        </HeaderMenu>\n      </HeaderMenuBlock>\n\n      {toggleToc && (\n        <TocToggle\n          onClick={() => {\n            toggleMenu(false);\n            toggleToc(!isTocOpen);\n          }}\n        >\n          Table of Contents\n        </TocToggle>\n      )}\n\n      <HamburgerMenu onClick={onClickHamburger} />\n\n      {isMenuOpen && <HeaderMenuBackground />}\n    </StyledHeader>\n  ) : (\n    <StyledHeader onClick={() => toggleMenu(false)}>\n      <HeaderMenuBlock>\n        <HamburgerMenu onClick={onClickHamburger} />\n        <UniversalLogoLink to={HEADER_LINK_URL} label={PROJECT_NAME} />\n        <HeaderMenu $collapsed={!isMenuOpen} $nbItems={PROJECTS.length}>\n          {externalLinks}\n        </HeaderMenu>\n      </HeaderMenuBlock>\n\n      <HeaderLinks links={links} />\n\n      {isMenuOpen && <HeaderMenuBackground />}\n    </StyledHeader>\n  );\n};\n\nexport default ControlledHeader;\n"],"file":"header.component.js"}